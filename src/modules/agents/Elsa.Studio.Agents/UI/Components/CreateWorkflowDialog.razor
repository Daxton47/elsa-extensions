@using Variant = MudBlazor.Variant
@inherits StudioComponentBase
@inject ILocalizer Localizer

<MudDialog>
    <DialogContent>
        <EditForm EditContext="_editContext" OnValidSubmit="OnValidSubmit">
            <FluentValidationValidator @ref="_fluentValidationValidator" Validator="_validator" DisableAssemblyScanning="true"/>
            <MudStack>
                <MudTextField Label="@Localizer["Name"]" @bind-Value="_metadataModel.Name" For="@(() => _metadataModel.Name)" HelperText="@Localizer["The name of the new workflow."]" Variant="Variant.Outlined" Margin="Margin.Dense"/>
                <MudTextField Label="@Localizer["Description"]" @bind-Value="_metadataModel.Description" For="@(() => _metadataModel.Description)" HelperText="@Localizer["A brief description of the workflow."]" Lines="3" Variant="Variant.Outlined" Margin="Margin.Dense"/>
                <MudTextField Label="@Localizer["AI Workflow Generation Prompt"]"
                              @bind-Value="_metadataModel.AIPrompt"
                              For="@(() => _metadataModel.AIPrompt)"
                              HelperText="@Localizer["Optionally provide a prompt for AI to generate an initial workflow."]"
                              Lines="4"
                              Variant="@Variant.Outlined"
                              Margin="@Margin.Dense"
                              Adornment="@Adornment.End"
                              AdornmentIcon="@ElsaStudioIcons.Tabler.MagicWand"
                              AdornmentColor="@Color.Primary"/>
            </MudStack>
        </EditForm>
    </DialogContent>
    <DialogActions>
        <MudButton OnClick="OnCancelClicked">@Localizer["Cancel"]</MudButton>
        <MudButton Color="Color.Primary" OnClick="OnSubmitClicked">@Localizer["Ok"]</MudButton>
    </DialogActions>
</MudDialog>