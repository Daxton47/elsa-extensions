{"$schema":"https://elsaworkflows.io/schemas/workflow-definition/v3.0.0/schema.json","id":"16cf3f575dd3bfd9","definitionId":"acb3cd96e6960fe8","name":"Text Document Oracle","createdAt":"2025-06-28T08:05:26.048291\u002B00:00","version":14,"toolVersion":"3.6.0.0","variables":[{"id":"4777b1abc80940ac","name":"Answer","typeName":"Object","isArray":false,"storageDriverTypeName":"Elsa.Workflows.WorkflowInstanceStorageDriver, Elsa.Workflows.Core"},{"id":"ee844a9b82ff0ae7","name":"Query","typeName":"Object","isArray":false,"storageDriverTypeName":"Elsa.Workflows.WorkflowInstanceStorageDriver, Elsa.Workflows.Core"},{"id":"e07c5b39e7a68f63","name":"Files","typeName":"FormFile","isArray":false,"storageDriverTypeName":"Elsa.Workflows.MemoryStorageDriver, Elsa.Workflows.Core"}],"inputs":[],"outputs":[],"outcomes":[],"customProperties":{"VariableTestValues":{}},"isReadonly":false,"isSystem":false,"isLatest":true,"isPublished":true,"options":{"autoUpdateConsumingWorkflows":false},"root":{"id":"d86fb30b6cda7f9d","nodeId":"Workflow1:d86fb30b6cda7f9d","name":"Flowchart1","type":"Elsa.Flowchart","version":1,"customProperties":{"notFoundConnections":[],"canStartWorkflow":false,"runAsynchronously":false},"metadata":{},"activities":[{"path":{"typeName":"String","expression":{"type":"Literal","value":"document-oracle"}},"supportedMethods":{"typeName":"List\u003CString\u003E","expression":{"type":"Object","value":"[\u0022POST\u0022]"}},"authorize":{"typeName":"Boolean","expression":{"type":"Literal","value":false}},"policy":{"typeName":"String","expression":{"type":"Literal"}},"requestTimeout":null,"requestSizeLimit":null,"fileSizeLimit":null,"allowedFileExtensions":null,"blockedFileExtensions":null,"allowedMimeTypes":null,"exposeRequestTooLargeOutcome":false,"exposeFileTooLargeOutcome":false,"exposeInvalidFileExtensionOutcome":false,"exposeInvalidFileMimeTypeOutcome":false,"parsedContent":{"typeName":"Object","memoryReference":{"id":"ee844a9b82ff0ae7"}},"files":{"typeName":"FormFile[]","memoryReference":{"id":"e07c5b39e7a68f63"}},"routeData":null,"queryStringData":null,"headers":null,"result":null,"id":"27e6f4af16dc2e51","nodeId":"Workflow1:d86fb30b6cda7f9d:27e6f4af16dc2e51","name":"HttpEndpoint1","type":"Elsa.HttpEndpoint","version":1,"customProperties":{"canStartWorkflow":true,"runAsynchronously":false},"metadata":{"designer":{"position":{"x":-780,"y":-180},"size":{"width":195.1328125,"height":67.9765625}}}},{"id":"f8e408eee7e41944","nodeId":"Workflow1:d86fb30b6cda7f9d:f8e408eee7e41944","name":"TextDocumentOracle1","type":"Elsa.Agents.TextDocumentOracle","version":1,"customProperties":{"canStartWorkflow":false,"runAsynchronously":false},"metadata":{"designer":{"position":{"x":-453.97265625,"y":-180},"size":{"width":245.7890625,"height":67.9765625}}},"question":{"typeName":"String","expression":{"type":"JavaScript","value":"getQuery().Query"},"memoryReference":{"id":"f8e408eee7e41944:input-question"}},"textEmbedding":{"typeName":"String","expression":{"type":"JavaScript","value":"const stream = getFiles()[0].OpenReadStream()\nreadStreamAsText(stream)"},"memoryReference":{"id":"f8e408eee7e41944:input-text-embedding"}},"output":{"typeName":"Object","memoryReference":{"id":"4777b1abc80940ac"}}},{"statusCode":{"typeName":"System.Net.HttpStatusCode, System.Net.Primitives","expression":{"type":"Literal","value":"OK"}},"content":{"typeName":"Object","expression":{"type":"JavaScript","value":"getAnswer().answer"}},"contentType":{"typeName":"String","expression":{"type":"Literal","value":"text/html"}},"responseHeaders":{"typeName":"HttpHeaders","expression":{"type":"Literal","value":"{}"}},"id":"17f88ea56e495bc5","nodeId":"Workflow1:d86fb30b6cda7f9d:17f88ea56e495bc5","name":"WriteHttpResponse1","type":"Elsa.WriteHttpResponse","version":1,"customProperties":{"canStartWorkflow":false,"runAsynchronously":false},"metadata":{"designer":{"position":{"x":-113.8984375,"y":-180},"size":{"width":201.546875,"height":67.9765625}}}}],"variables":[],"connections":[{"source":{"activity":"27e6f4af16dc2e51","port":"Done"},"target":{"activity":"f8e408eee7e41944","port":"In"},"vertices":[]},{"source":{"activity":"f8e408eee7e41944","port":"Done"},"target":{"activity":"17f88ea56e495bc5","port":"In"},"vertices":[]}]}}